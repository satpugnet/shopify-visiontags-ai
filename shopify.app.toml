# VisionTags: AI Tags & Metafields
# This file stores configurations for your Shopify app.

client_id = "82198424193060d95d80f7b9e011c21b"
name = "VisionTags"
handle = "visiontags"
application_url = "https://visiontags-ai-production.up.railway.app"
embedded = true

[access_scopes]
scopes = "read_products,write_products"

[auth]
redirect_urls = ["https://visiontags-ai-production.up.railway.app/auth/callback"]

[webhooks]
api_version = "2025-01"

  # Handled by: /app/routes/webhooks.app.uninstalled.tsx
  [[webhooks.subscriptions]]
  uri = "/webhooks/app/uninstalled"
  topics = ["app/uninstalled"]

  # Handled by: /app/routes/webhooks.app.scopes_update.tsx
  [[webhooks.subscriptions]]
  topics = ["app/scopes_update"]
  uri = "/webhooks/app/scopes_update"

  # Handled by: /app/routes/webhooks.products.create.tsx
  # Auto-sync new products (Pro feature)
  [[webhooks.subscriptions]]
  topics = ["products/create"]
  uri = "/webhooks/products/create"

  # Handled by: /app/routes/webhooks.app-subscriptions.update.tsx
  # Sync plan status when merchant changes subscription (Managed Pricing)
  [[webhooks.subscriptions]]
  topics = ["app_subscriptions/update"]
  uri = "/webhooks/app-subscriptions/update"

  # Webhooks can have filters
  # Only receive webhooks for product updates with a product price >= 10.00
  # See: https://shopify.dev/docs/apps/build/webhooks/customize/filters
  # [[webhooks.subscriptions]]
  # topics = ["products/update"]
  # uri = "/webhooks/products/update"
  # filter = "variants.price:>=10.00"

  # Mandatory compliance topics for public apps
  # See: https://shopify.dev/docs/apps/build/privacy-law-compliance
  [[webhooks.subscriptions]]
  compliance_topics = ["customers/data_request", "customers/redact", "shop/redact"]
  uri = "/webhooks/compliance"
